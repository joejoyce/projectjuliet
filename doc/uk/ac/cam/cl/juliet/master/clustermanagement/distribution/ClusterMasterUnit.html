<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Wed Feb 26 17:33:02 GMT 2014 -->
<title>ClusterMasterUnit</title>
<meta name="date" content="2014-02-26">
<link rel="stylesheet" type="text/css" href="../../../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ClusterMasterUnit";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ClusterMasterUnit.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/InFlightContainer.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html" target="_top">Frames</a></li>
<li><a href="ClusterMasterUnit.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">uk.ac.cam.cl.juliet.master.clustermanagement.distribution</div>
<h2 title="Class ClusterMasterUnit" class="title">Class ClusterMasterUnit</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>uk.ac.cam.cl.juliet.master.clustermanagement.distribution.ClusterMasterUnit</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">ClusterMasterUnit</span>
extends java.lang.Object
implements <a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></pre>
<div class="block">This class handles all data being sent to the cluster - when it recieves a packet it allocates
 it to the Client with least work currently.
 It is also responsible for providing both settings information to the raspberry Pi and DHCP services.
 This class can also be queried for performance statistics for the cluster.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>joseph</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#currentSystemTime">currentSystemTime</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#ClusterMasterUnit(java.lang.String)">ClusterMasterUnit</a></strong>(java.lang.String&nbsp;filename)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#addClient(java.net.Socket)">addClient</a></strong>(java.net.Socket&nbsp;skt)</code>
<div class="block">Add the client to the Cluster so that it can begin to recieve work</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#broadcast(uk.ac.cam.cl.juliet.common.Container)">broadcast</a></strong>(<a href="../../../../../../../../uk/ac/cam/cl/juliet/common/Container.html" title="class in uk.ac.cam.cl.juliet.common">Container</a>&nbsp;c)</code>
<div class="block">Sends the Container c out to all currently connected clients</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#broadcast(uk.ac.cam.cl.juliet.common.Container, uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Callback)">broadcast</a></strong>(<a href="../../../../../../../../uk/ac/cam/cl/juliet/common/Container.html" title="class in uk.ac.cam.cl.juliet.common">Container</a>&nbsp;c,
         <a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/Callback.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">Callback</a>&nbsp;cb)</code>
<div class="block">Sends the container c to all connected clients with a callback.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#closeAndRemove(uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Client)">closeAndRemove</a></strong>(<a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/Client.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">Client</a>&nbsp;ob)</code>
<div class="block">Remove the client from this ClusterManager so that no more packets are sent to it,
 but also close the connection to the Client.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#getClientCount()">getClientCount</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/common/ConfigurationPacket.html" title="class in uk.ac.cam.cl.juliet.common">ConfigurationPacket</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#getConfiguration()">getConfiguration</a></strong>()</code>
<div class="block">Do not set properties on the object that this returns as it will cause a broadcast 
 of the update to the clients.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#getNextId()">getNextId</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#getPacketThroughput()">getPacketThroughput</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#getSetting(java.lang.String)">getSetting</a></strong>(java.lang.String&nbsp;key)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#getTime()">getTime</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/Client.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">Client</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#listClients()">listClients</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#removeClient(uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Client)">removeClient</a></strong>(<a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/Client.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">Client</a>&nbsp;ob)</code>
<div class="block">Remove the client from this ClusterManager so that no more packets are sent to it</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.concurrent.ScheduledFuture&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#repeatedBroadcast(uk.ac.cam.cl.juliet.common.Container, uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Callback, long)">repeatedBroadcast</a></strong>(<a href="../../../../../../../../uk/ac/cam/cl/juliet/common/Container.html" title="class in uk.ac.cam.cl.juliet.common">Container</a>&nbsp;c,
                 <a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/Callback.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">Callback</a>&nbsp;cb,
                 long&nbsp;time)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.concurrent.ScheduledFuture&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#repeatedSend(uk.ac.cam.cl.juliet.common.Container, uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Callback, long)">repeatedSend</a></strong>(<a href="../../../../../../../../uk/ac/cam/cl/juliet/common/Container.html" title="class in uk.ac.cam.cl.juliet.common">Container</a>&nbsp;c,
            <a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/Callback.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">Callback</a>&nbsp;cb,
            long&nbsp;time)</code>
<div class="block">Repeatedly send the packet to a client, getting a callback each time.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#sendPacket(uk.ac.cam.cl.juliet.common.Container)">sendPacket</a></strong>(<a href="../../../../../../../../uk/ac/cam/cl/juliet/common/Container.html" title="class in uk.ac.cam.cl.juliet.common">Container</a>&nbsp;msg)</code>
<div class="block">Send the Container for processing with no callback on reply, success is pretty much
 guaranteed as the ClusterManger will buffer and retry if no response is received.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#sendPacket(uk.ac.cam.cl.juliet.common.Container, uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Callback)">sendPacket</a></strong>(<a href="../../../../../../../../uk/ac/cam/cl/juliet/common/Container.html" title="class in uk.ac.cam.cl.juliet.common">Container</a>&nbsp;msg,
          <a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/Callback.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">Callback</a>&nbsp;cb)</code>
<div class="block">Send the Container for processing and run the callback when a response is recieved,
 with the container as an argument, success is pretty much
 guaranteed as the ClusterManger will buffer and retry if no response is received.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#setSetting(java.lang.String, java.lang.String)">setSetting</a></strong>(java.lang.String&nbsp;key,
          java.lang.String&nbsp;value)</code>
<div class="block">This method will set the key to the value specified and then broadcast the new
 configuration out to all the connected Clients</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#start(int)">start</a></strong>(int&nbsp;port)</code>
<div class="block">Start the cluster server so that Clients can be accepted - also starts the DHCP server for
 the network on which the Pis conect.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html#stop()">stop</a></strong>()</code>
<div class="block">Stop the server so that Clients recieve no more work and packets sent to the ClusterManger
 throw an exception - the DHCP server is also stopped.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="currentSystemTime">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>currentSystemTime</h4>
<pre>public volatile&nbsp;long currentSystemTime</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ClusterMasterUnit(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ClusterMasterUnit</h4>
<pre>public&nbsp;ClusterMasterUnit(java.lang.String&nbsp;filename)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addClient(java.net.Socket)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addClient</h4>
<pre>public&nbsp;void&nbsp;addClient(java.net.Socket&nbsp;skt)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#addClient(java.net.Socket)">ClusterMaster</a></code></strong></div>
<div class="block">Add the client to the Cluster so that it can begin to recieve work</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#addClient(java.net.Socket)">addClient</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>skt</code> - The socket which has the client on the other end</dd></dl>
</li>
</ul>
<a name="start(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start(int&nbsp;port)
           throws java.io.IOException</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#start(int)">ClusterMaster</a></code></strong></div>
<div class="block">Start the cluster server so that Clients can be accepted - also starts the DHCP server for
 the network on which the Pis conect.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#start(int)">start</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="stop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#stop()">ClusterMaster</a></code></strong></div>
<div class="block">Stop the server so that Clients recieve no more work and packets sent to the ClusterManger
 throw an exception - the DHCP server is also stopped.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#stop()">stop</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></code></dd>
</dl>
</li>
</ul>
<a name="sendPacket(uk.ac.cam.cl.juliet.common.Container)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendPacket</h4>
<pre>public&nbsp;long&nbsp;sendPacket(<a href="../../../../../../../../uk/ac/cam/cl/juliet/common/Container.html" title="class in uk.ac.cam.cl.juliet.common">Container</a>&nbsp;msg)
                throws <a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/NoClusterException.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">NoClusterException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#sendPacket(uk.ac.cam.cl.juliet.common.Container)">ClusterMaster</a></code></strong></div>
<div class="block">Send the Container for processing with no callback on reply, success is pretty much
 guaranteed as the ClusterManger will buffer and retry if no response is received.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#sendPacket(uk.ac.cam.cl.juliet.common.Container)">sendPacket</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>msg</code> - The Container to send to the cluster</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/NoClusterException.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">NoClusterException</a></code> - In the case where the server is stopped or there are no Clients</dd></dl>
</li>
</ul>
<a name="sendPacket(uk.ac.cam.cl.juliet.common.Container, uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Callback)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendPacket</h4>
<pre>public&nbsp;long&nbsp;sendPacket(<a href="../../../../../../../../uk/ac/cam/cl/juliet/common/Container.html" title="class in uk.ac.cam.cl.juliet.common">Container</a>&nbsp;msg,
              <a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/Callback.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">Callback</a>&nbsp;cb)
                throws <a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/NoClusterException.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">NoClusterException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#sendPacket(uk.ac.cam.cl.juliet.common.Container, uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Callback)">ClusterMaster</a></code></strong></div>
<div class="block">Send the Container for processing and run the callback when a response is recieved,
 with the container as an argument, success is pretty much
 guaranteed as the ClusterManger will buffer and retry if no response is received.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#sendPacket(uk.ac.cam.cl.juliet.common.Container, uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Callback)">sendPacket</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>msg</code> - The Container to send to the cluster</dd><dd><code>cb</code> - The callback to run on completion</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/NoClusterException.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">NoClusterException</a></code> - In the case where the server is stopped or there are no Clients</dd></dl>
</li>
</ul>
<a name="removeClient(uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Client)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeClient</h4>
<pre>public&nbsp;void&nbsp;removeClient(<a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/Client.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">Client</a>&nbsp;ob)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#removeClient(uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Client)">ClusterMaster</a></code></strong></div>
<div class="block">Remove the client from this ClusterManager so that no more packets are sent to it</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#removeClient(uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Client)">removeClient</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>ob</code> - The Client object to remove</dd></dl>
</li>
</ul>
<a name="closeAndRemove(uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Client)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeAndRemove</h4>
<pre>public&nbsp;void&nbsp;closeAndRemove(<a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/Client.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">Client</a>&nbsp;ob)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#closeAndRemove(uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Client)">ClusterMaster</a></code></strong></div>
<div class="block">Remove the client from this ClusterManager so that no more packets are sent to it,
 but also close the connection to the Client. Out of the two similar methods this is
 probably the one you want</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#closeAndRemove(uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Client)">closeAndRemove</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>ob</code> - The Client to remove</dd></dl>
</li>
</ul>
<a name="getNextId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextId</h4>
<pre>public&nbsp;long&nbsp;getNextId()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#getNextId()">getNextId</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The next unique id that should be used for sending packets to the cluster</dd></dl>
</li>
</ul>
<a name="getSetting(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSetting</h4>
<pre>public&nbsp;java.lang.String&nbsp;getSetting(java.lang.String&nbsp;key)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#getSetting(java.lang.String)">getSetting</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>A String with the value of that setting</dd></dl>
</li>
</ul>
<a name="setSetting(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSetting</h4>
<pre>public&nbsp;void&nbsp;setSetting(java.lang.String&nbsp;key,
              java.lang.String&nbsp;value)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#setSetting(java.lang.String, java.lang.String)">ClusterMaster</a></code></strong></div>
<div class="block">This method will set the key to the value specified and then broadcast the new
 configuration out to all the connected Clients</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#setSetting(java.lang.String, java.lang.String)">setSetting</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The string key</dd><dd><code>value</code> - The value to set it to</dd></dl>
</li>
</ul>
<a name="getConfiguration()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConfiguration</h4>
<pre>public&nbsp;<a href="../../../../../../../../uk/ac/cam/cl/juliet/common/ConfigurationPacket.html" title="class in uk.ac.cam.cl.juliet.common">ConfigurationPacket</a>&nbsp;getConfiguration()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#getConfiguration()">ClusterMaster</a></code></strong></div>
<div class="block">Do not set properties on the object that this returns as it will cause a broadcast 
 of the update to the clients. That will only occur if you use the methods directly
 On the clusterMaster.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#getConfiguration()">getConfiguration</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The configurationPacket that this ClusterMasterUnit uses to keep track of config</dd></dl>
</li>
</ul>
<a name="listClients()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listClients</h4>
<pre>public&nbsp;<a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/Client.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">Client</a>[]&nbsp;listClients()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#listClients()">listClients</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>An array of currently connected Clients</dd></dl>
</li>
</ul>
<a name="getTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTime</h4>
<pre>public&nbsp;long&nbsp;getTime()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#getTime()">getTime</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>Current system time in seconds and EPOCH format</dd></dl>
</li>
</ul>
<a name="getPacketThroughput()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPacketThroughput</h4>
<pre>public&nbsp;int&nbsp;getPacketThroughput()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#getPacketThroughput()">getPacketThroughput</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></code></dd>
</dl>
</li>
</ul>
<a name="broadcast(uk.ac.cam.cl.juliet.common.Container)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>broadcast</h4>
<pre>public&nbsp;int&nbsp;broadcast(<a href="../../../../../../../../uk/ac/cam/cl/juliet/common/Container.html" title="class in uk.ac.cam.cl.juliet.common">Container</a>&nbsp;c)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#broadcast(uk.ac.cam.cl.juliet.common.Container)">ClusterMaster</a></code></strong></div>
<div class="block">Sends the Container c out to all currently connected clients</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#broadcast(uk.ac.cam.cl.juliet.common.Container)">broadcast</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of clients it was sent to</dd></dl>
</li>
</ul>
<a name="broadcast(uk.ac.cam.cl.juliet.common.Container, uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Callback)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>broadcast</h4>
<pre>public&nbsp;int&nbsp;broadcast(<a href="../../../../../../../../uk/ac/cam/cl/juliet/common/Container.html" title="class in uk.ac.cam.cl.juliet.common">Container</a>&nbsp;c,
            <a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/Callback.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">Callback</a>&nbsp;cb)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#broadcast(uk.ac.cam.cl.juliet.common.Container, uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Callback)">ClusterMaster</a></code></strong></div>
<div class="block">Sends the container c to all connected clients with a callback.
 Warning the callbacks will run from different threads so make sure it's thread safe</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#broadcast(uk.ac.cam.cl.juliet.common.Container, uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Callback)">broadcast</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of clients it was sent to</dd></dl>
</li>
</ul>
<a name="getClientCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClientCount</h4>
<pre>public&nbsp;int&nbsp;getClientCount()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html#getClientCount()">getClientCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">ClusterMaster</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of clients currently connected</dd></dl>
</li>
</ul>
<a name="repeatedSend(uk.ac.cam.cl.juliet.common.Container, uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Callback, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>repeatedSend</h4>
<pre>public&nbsp;java.util.concurrent.ScheduledFuture&lt;?&gt;&nbsp;repeatedSend(<a href="../../../../../../../../uk/ac/cam/cl/juliet/common/Container.html" title="class in uk.ac.cam.cl.juliet.common">Container</a>&nbsp;c,
                                                   <a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/Callback.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">Callback</a>&nbsp;cb,
                                                   long&nbsp;time)</pre>
<div class="block">Repeatedly send the packet to a client, getting a callback each time.
 BEWARE if this fails it will retry after five seconds so this could easily fill the
 system!!</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>c</code> - The container to send</dd><dd><code>cb</code> - The callback to be run</dd><dd><code>time</code> - In milliseconds between them - this is the time between attempted send</dd>
<dt><span class="strong">Returns:</span></dt><dd>A sechduledFuture - this can be used to cancel it etc...</dd></dl>
</li>
</ul>
<a name="repeatedBroadcast(uk.ac.cam.cl.juliet.common.Container, uk.ac.cam.cl.juliet.master.clustermanagement.distribution.Callback, long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>repeatedBroadcast</h4>
<pre>public&nbsp;java.util.concurrent.ScheduledFuture&lt;?&gt;&nbsp;repeatedBroadcast(<a href="../../../../../../../../uk/ac/cam/cl/juliet/common/Container.html" title="class in uk.ac.cam.cl.juliet.common">Container</a>&nbsp;c,
                                                        <a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/Callback.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution">Callback</a>&nbsp;cb,
                                                        long&nbsp;time)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ClusterMasterUnit.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMaster.html" title="interface in uk.ac.cam.cl.juliet.master.clustermanagement.distribution"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../../../uk/ac/cam/cl/juliet/master/clustermanagement/distribution/InFlightContainer.html" title="class in uk.ac.cam.cl.juliet.master.clustermanagement.distribution"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?uk/ac/cam/cl/juliet/master/clustermanagement/distribution/ClusterMasterUnit.html" target="_top">Frames</a></li>
<li><a href="ClusterMasterUnit.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
